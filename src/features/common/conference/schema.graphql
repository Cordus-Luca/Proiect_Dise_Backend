# Get conference action
type Status {
  id: Int!
  name: String!
}

type Location {
  id: Int!
  name: String
  address: String
  city: City!
  county: County!
  country: Country!
  latitude: Float
  longitude: Float
}

type Speaker {
  id: Int!
  name: String
  rating: Float
  nationality: String
  phoneNumber: String
  isMainSpeaker: Boolean
}

type Tag {
  id: Int!
  name: String!
}

type Conference {
  id: Int!
  name: String!
  startDate: DateTime!
  endDate: DateTime!
  type: Type
  category: Category
  organizerEmail: String!
  speakers: [Speaker!]!
  location: Location!
  status(userEmail: String!): Status
  tags: [Tag!]!
}

input ConferenceFilterInput {
  startDate: DateTime
  endDate: DateTime
  name: String
  tagIds: [Int!]
}

# Save conference action
input ConferenceInput {
  id: Int
  name: String!
  startDate: DateTime!
  endDate: DateTime!
  organizerEmail: String!
  type: TypeInput!
  category: CategoryInput!
  location: LocationInput!
  speakers: [SpeakerInput!]!
  deletedSpeakers: [Int!]
  tags: [TagInput!]!
  deletedTags: [Int!]
}

input LocationInput {
  id: Int
  name: String
  address: String
  latitude: Float
  longitude: Float
  cityId: Int!
  countyId: Int!
  countryId: Int!
}

input SpeakerInput {
  id: Int
  name: String
  isMainSpeaker: Boolean
  nationality: String
  image: Byte
  rating: Float
  phoneNumber: String
}

input TagInput {
  id: Int
  name: String!
}

input AttendeeInput {
  attendeeEmail: String!
  conferenceId: Int!
  statusId: Int!
}

extend type Query {
  conferenceList(filters: ConferenceFilterInput, userEmail:String!): [Conference]
  conference(id: Int!): Conference!
  tagList: [Tag!]!
  usedTagList: [Tag!]!
  recommendedConferenceList(userEmail: String!, filters: ConferenceFilterInput, limit: Int = 50): [Conference!]!
  attendedConferenceList(userEmail: String!): [Conference!]!
}

extend type Mutation {
    saveConference(input: ConferenceInput!): Conference!
    deleteConference(id: Int!): String
    changeAttendanceStatus(input: AttendeeInput!): String
}